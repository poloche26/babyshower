<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Revelación del Bebé 💖</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- BIENVENIDA -->
  <div id="welcome-overlay" class="overlay">
    <div class="welcome-content">
      <h1>👶 ¡Bienvenidos familia! 👶</h1>
      <p>
        Hoy celebramos juntos la llegada de un nuevo miembro a nuestra familia.<br>
        Un regalo de amor que llenará nuestras vidas de sonrisas y felicidad 💖
      </p>
      <input id="name-input" type="text" placeholder="Escribe tu nombre..." />
      <button id="start-presentation-btn">Iniciar presentación</button>
    </div>
  </div>

  <!-- PRESENTACIÓN -->
  <div id="presentation-overlay" class="overlay hidden">
    <div class="slideshow">
      <div class="slide active">
        <img src="img/foto1.jpg" alt="Momento especial" />
        <p>"Cada latido es un recordatorio de cuánto amor nos espera 💕"</p>
      </div>
      <div class="slide">
        <img src="img/foto2.jpg" alt="Ecografía" />
        <p>"La vida nos sorprende con milagros que caben en un corazón tan pequeño ✨"</p>
      </div>
      <div class="slide">
        <img src="img/foto3.jpg" alt="Familia" />
        <p>"La familia crece, y con ella el amor infinito 💖"</p>
      </div>
      <div class="slide">
        <img src="img/foto4.jpg" alt="Barriguita" />
        <p>"Pronto en nuestros brazos, hoy ya en nuestro corazón 💞"</p>
      </div>
    </div>
    <button id="next-slide-btn">➡️ Siguiente</button>
  </div>

  <!-- AUDIO -->
  <audio id="audio-welcome" src="music/welcome.mp3"></audio>
  <audio id="audio-soft" src="music/soft.mp3" loop></audio>
  <audio id="audio-celebration" src="music/celebration.mp3"></audio>

  <!-- APP PRINCIPAL -->
  <main id="app" class="hidden">
    <div class="card">
      <h2>💖 Vota por el sexo del bebé 💙</h2>
      <div id="votes"></div>
      <p class="presence">👥 Participantes: <span id="presence-count">0</span></p>
    </div>

    <div class="card">
      <h2>💬 Chat familiar</h2>
      <div id="messages"></div>
      <input id="chat-input" placeholder="Escribe un mensaje..." />
      <button id="send-btn">Enviar</button>
    </div>

    <div class="card">
      <h2>🎉 Reacciones</h2>
      <div id="reactions">
        <button class="reaction-option">💖</button>
        <button class="reaction-option">💙</button>
        <button class="reaction-option">😂</button>
        <button class="reaction-option">😍</button>
        <button class="reaction-option">👏</button>
      </div>
      <div id="reaction-counts"></div>
    </div>

    <div class="card panel">
      <h2>🗳️ Historial de Votaciones</h2>
      <div id="vote-history"></div>
    </div>

    <div class="card host">
      <h2>⚙️ Anfitrión</h2>
      <button id="host-btn">Soy anfitrión</button>
      <div id="host-controls" class="hidden">
        <p id="chosen-sex">Sexo no fijado</p>
        <button id="set-boy">💙 Fijar Niño</button>
        <button id="set-girl">💖 Fijar Niña</button>
        <button id="reveal-btn">🎊 Revelar</button>
        <button id="reset-btn">🔄 Reiniciar</button>
      </div>
    </div>
  </main>

  <!-- Conteo regresivo -->
  <div id="final-countdown" class="overlay hidden">
    <div id="countdown-number">10</div>
  </div>

  <!-- Revelación final -->
  <div id="reveal-overlay" class="overlay hidden">
    <h1 id="reveal-title">¡Es un...!</h1>
    <h2 id="reveal-sub"></h2>
    <canvas id="confetti-canvas"></canvas>
    <div id="balloons-layer"></div>
  </div>

  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, push, set, onValue, remove, update } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBWTg5yjVKhVBAJLQlrFy1f5YDC_Ex8UVM",
      authDomain: "babyshower-fa9e6.firebaseapp.com",
      databaseURL: "https://babyshower-fa9e6-default-rtdb.firebaseio.com/",
      projectId: "babyshower-fa9e6",
      storageBucket: "babyshower-fa9e6.appspot.com",
      messagingSenderId: "851629928131",
      appId: "1:851629928131:web:1baeb3edb1093faaa73c76"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    window.firebaseDB = db;
    window.firebaseRefs = { ref, push, set, onValue, remove, update };
  </script>

  <!-- Script principal -->
<!-- Firebase y tu script principal -->
<script type="module" src="script.js"></script>

</body>
</html>
